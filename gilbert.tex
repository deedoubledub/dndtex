\documentclass{book}
\pagestyle{empty}

\usepackage{dnd}

%character data
%header
\newcommand{\CharacterName}{Gilbert Windham}
\newcommand{\Class}{Wizard}
\newcommand{\Level}{1}
\newcommand{\Background}{Archaeologist}
\newcommand{\PlayerName}{deedoubledub}
\newcommand{\Race}{Variant Human}
\newcommand{\Alignment}{Chaotic Good}
\newcommand{\XP}{(milestone)}

%ability scores
\newcommand{\STR}{8}
\newcommand{\DEX}{14}
\newcommand{\CON}{13}
\newcommand{\INT}{18}
\newcommand{\WIS}{12}
\newcommand{\CHA}{10}

%proficiencies
\newcommand{\ProfINTsave}{true}
\newcommand{\ProfWISsave}{true}
\newcommand{\ProfArcana}{true}
\newcommand{\ProfHistory}{true}
\newcommand{\ProfInvestigation}{true}
\newcommand{\ProfReligion}{true}
\newcommand{\ProfSurvival}{true}

\newcommand{\ProfArmor}{None}
\newcommand{\ProfWeapons}{Crossbow (Light), Dagger, Dart,\\ Quarterstaff, Sling}
\newcommand{\ProfTools}{Cartographer's Tools}
\newcommand{\ProfLanguages}{Common, Draconic, Elvish}

%combat
\newcommand{\BaseArmor}{10}
\newcommand{\Armor}{0}
\newcommand{\Speed}{30ft.}

%hit points
\FPeval{\BaseHP}{6} %add rolls at each level

%hit dice
\newcommand{\HitDice}{d6}

%actions
\newcommand{\Actions}{
  \textbf{Bonus Actions:\\} Telekinetic - Shove\\
  As a bonus action, you can try to telekinetically shove one creature you can
  see within 30 ft. of you. The target must succeed on a STR save or be moved 5
  ft. toward you or away from you. A creature can willingly fail this save.\\

  \textbf{Special Actions:\\} Arcane Recovery \textbullet\ 1/Long Rest\\
  Once per day when you finish a short rest, you can choose expended spell slots
  to recover. The spell slots can have a combined level that is up to half your
  wizard level (rounded up), and none of the slots can be 6th level or higher.
}

%attacks
\newcommand{\Attacks}{
  \attack{Dagger}{5ft.}{20(60)}{+4}{1d4+2}{piercing}{Finesse, Light, Thrown}\\
  \attack{Whip}{10ft.}{}{+2}{1d4+2}{slashing}{Finesse, Reach}\\\\
  \attack{Acid Splash}{}{60}{14 DEX}{1d6}{acid}{V,S}\\
  \attack{Ray of Frost}{}{60}{+6}{1d8}{cold}{V,S}
}

%spellcasting
\newcommand{\SpellAbility}{INT}

%description header
\newcommand{\Age}{32}
\newcommand{\Height}{6' 2"}
\newcommand{\Weight}{200lb}
\newcommand{\Eyes}{Gray}
\newcommand{\Skin}{Pale}
\newcommand{\Hair}{Light Brown}

%equipment
\newcommand{\Equipment}{
  %name qty wt cost notes
  \dnditem{Dagger}{1}{1}{2}{\tiny{simple, finesse, light, thrown, range (20/60)}}\\
  \dnditem{Whip}{1}{3}{2}{martial, finesse, reach}\\
  \dnditem{Spellbook}{1}{3}{50}{utility}\\
  \dnditem{Traveler's Clothes}{1}{4}{2}{social, outerwear}\\
  \\
  \dnditem{\textbf{Backpack}}{1}{5}{2}{capacity: 1ft$^3$/30\tiny{lb.}}\\
  \dnditem{Book}{1}{5}{25}{social, utility}\\
  \dnditem{Ink Pen}{1}{-}{0.02}{communication, social, utility}\\
  \dnditem{Ink \scriptsize{(1 oz. bottle)}}{1}{-}{10}{\tiny{communication, social, utility, consumable}}\\
  \dnditem{Parchment}{10}{-}{1}{\tiny{communication, social, utility, consumable}}\\
  \dnditem{Little Bag of Sand}{1}{-}{-}{utility}\\
  \dnditem{Small Knife}{1}{-}{-}{utility}\\
  \dnditem{Map Case \& Map}{1}{-}{-}{Is this a crypt in Udarth?}\\
  \dnditem{Two-Person Tent}{1}{20}{2}{social, utility, exploration}\\
  \dnditem{Bullseye Lantern}{1}{2}{10}{\tiny{cone - 60ft bright, 60ft dim; 6hr/pint of oil}}\\
  \dnditem{Miner's Pick}{1}{10}{2}{utility}\\
  \dnditem{Shovel}{1}{5}{2}{utility}\\
  \\
  \dnditem{\textbf{Component Pouch}}{1}{2}{25}{spellcasting focus}\\
}

%money
\newcommand{\CP}{0}
\newcommand{\SP}{0}
\newcommand{\GP}{25}
\newcommand{\EP}{0}
\newcommand{\PP}{0}

%backstory
\newcommand{\Backstory}{
  Ever since he was a child, Gilbert heard tales about the ancient lost city of Udarth. Not much is known about the city, but it is said to have been ruled by a Magocracy of Dragonborn sorcerers. He has spent the intervening years studying Draconic languages and history while becoming an archaeologist. One day, he hopes to earn his place in the history books by finding Udarth and uncovering its secrets.\\

  On his very first dig expedition, Gilbert uncovered a dusty old bullwhip. He keeps it strapped to his side to this day as a souvenir. On that same dig, he also discovered a wooden map case containing what appears to be the layout of a crypt. The map is covered in Draconic symbols and writing. It must be linked to Udarth somehow!\\

  During his most recent archaeological excursion, Gilbert saved a colleague from great harm in the most unusual way. A rope snapped from a pulley system, causing large debris to swing toward a fellow digger. Gilbert cried out and felt completely powerless to stop a tragic accident. Then suddenly, Gilbert discovered an unknown talent, and he was able to telekinetically shove his friend out of harm's way.\\

  After this sudden discovery of telekinetic ability, Gilbert spent several weeks in the library researching everything he could find about magic and spellcasting. During this time, he has learned to copy a few basic spells into his own spellbook and has gained a rudimentary understanding of the art. In the very last text that he scoured, Gilbert found a reference to a place called Dragon's Rest where it might be possible to learn more magic and to develop this new skill. Gilbert packed his belongings and bartered passage on a ship to Stormwreck Isle the very next day.\\

  The adventure begins...
}

%traits
\newcommand{\PersonalityTraits}{
  I love a good puzzle or mystery.\\\\
  I’m happier in a dusty old tomb than I am in the centers of civilization.
}
\newcommand{\Ideals}{Preservation. That artifact belongs in a museum. (Good)}
\newcommand{\Bonds}{Ever since I was a child, I’ve heard stories about a lost city. I aim to find it, learn its secrets, and earn my place in the history books. (Udarth)}
\newcommand{\Flaws}{I have a secret fear of some common wild animal—and in my work, I see them\\ everywhere. (Snakes)}

%features
\newcommand{\Features}{
  \textbf{Ritual Spells:\\} Comprehend Languages\\Detect Magic\\Find Familiar\\\\
  \textbf{Spell Slots:\\}
  \begin{tabular}{ c c c c c c }
    \textbf{1st} & \textbf{2nd} & \textbf{3rd} & \textbf{4th} & \textbf{5th} & \textbf{6th} \\
    2 & - & - & - & - & -
  \end{tabular}\\\\
  \begin{tabular}{ c c c }
    \textbf{7th} & \textbf{8th} & \textbf{9th} \\
    - & - & -
  \end{tabular}\\\\
  \textbf{Feats:\\} Telekinetic (Intelligence)
  \begin{itemize}
    \item +1 INT
    \item You learn the mage hand cantrip. You can cast it without verbal or somatic components, and you can make the spectral hand invisible. If you already know this spell, its range increases by 30 feet when you cast it. Its spellcasting ability is the ability increased by this feat.
    \item As a bonus action, you can try to telekinetically shove one creature you can see within 30 feet of you. When you do so, the target must succeed on a Strength saving throw (DC 8 + your proficiency bonus + the ability modifier of the score increased by this feat) or be moved 5 feet toward you or away from you. A creature can willingly fail this save.
  \end{itemize}
  \textbf{Background Features:\\} Historical Knowledge (Archaeologist)\\
  When you enter a ruin or dungeon, you can correctly ascertain its original purpose and determine its builders, whether those were dwarves, elves, humans, yuan-ti, or some other known race. In addition, you can determine the monetary value of art objects more than a century old.
}

%generate character sheet
\begin{document}
\main
\roleplay
\end{document}
